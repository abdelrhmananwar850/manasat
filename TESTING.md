# ๐งช ุฏููู ุงุฎุชุจุงุฑ ุงููุณุงุนุฏ ุงูุฐูู - ููุตุงุช ุงูุนูุงุฑูุฉ

## โ ุฌููุน ุงูุชุนุฏููุงุช ุงููููุฐุฉ ูุงูุงุฎุชุจุงุฑุงุช

---

## 1๏ธโฃ ุฅููุงู ุงูุตูุช ุนูุฏ ุงูุถุบุท ุนูู Stop โ

### ุงูููุฏ ุงููุณุคูู:
```typescript
// stopAudioPlayback() + stopSession()
- suspend() ููู AudioContext ุฃููุงู
- stop(0) + disconnect() ููู audio source
- close() ููู AudioContext
```

### ููููุฉ ุงูุงุฎุชุจุงุฑ:
1. ุงุจุฏุฃ ุฌูุณุฉ ุตูุชูุฉ
2. ุงุณุฃู ุณุคุงู ุทููู
3. ุฃุซูุงุก ุฑุฏ ุงูุจูุชุ ุงุถุบุท ุนูู ุฒุฑ ุงูุฅููุงู
4. **ุงููุชููุน:** ุงูุตูุช ูุชููู ููุฑุงู

---

## 2๏ธโฃ ููุน Tool Calls ุงููุชุฒุงููุฉ (ุญู ูุดููุฉ ุงูุชูููุฌ) โ

### ุงูููุฏ ุงููุณุคูู:
```typescript
const isProcessingRef = useRef(false);
// ูู handleToolCall:
if (isProcessingRef.current) return;
isProcessingRef.current = true;
// ... finally: isProcessingRef.current = false;
```

### ููููุฉ ุงูุงุฎุชุจุงุฑ:
1. ุงุณุฃู ุณุคุงููู ุณุฑูุนูู ูุชุชุงูููู
2. **ุงููุชููุน:** ุงูุจูุช ูุนุงูุฌ ุงูุทูุจุงุช ุจุงูุชุฑุชูุจ ุจุฏูู ุชูููุฌ

---

## 3๏ธโฃ ุฅุบูุงู ุงูููุฑู ุนูุฏ ุงูุจุญุซ ุนู ุนูุงุฑ ุฌุฏูุฏ โ

### ุงูููุฏ ุงููุณุคูู:
```typescript
if (fc.name === 'search_property' || fc.name === 'show_previous_property') {
  if (showLeadFormRef.current) {
    setShowLeadForm(false);
    showLeadFormRef.current = false;
  }
}
```

### ููููุฉ ุงูุงุฎุชุจุงุฑ:
1. ุงุนุฑุถ ุนูุงุฑุ ููู "ูู ุงูุณุนุฑ" (ููุชุญ ุงูููุฑู)
2. ููู "ูุง ุบูุฑุช ุฑุฃููุ ุฃุจู ุดูุฉ"
3. **ุงููุชููุน:** ุงูููุฑู ูุชููู ูุงูุจูุช ูุจุญุซ

---

## 4๏ธโฃ ุนุฏู ุนุฑุถ ุนูุงุฑุงุช ููููุฉ โ

### ุงูููุฏ ุงููุณุคูู:
```typescript
// services/mockApi.ts - searchProperties()
if (results.length === 0) {
  return []; // ูุง ูุฑุฌุน ุนูุงุฑุงุช ุนุดูุงุฆูุฉ
}
```

### ููููุฉ ุงูุงุฎุชุจุงุฑ:
1. ููู "ุฃุจู ูููุง ูู ุญู ูุด ููุฌูุฏ"
2. **ุงููุชููุน:** ุงูุจูุช ูููู "ูุง ููุฌุฏ" ูููุชุฑุญ ุฃุญูุงุก ุจุฏููุฉ

---

## 5๏ธโฃ ุงูุชุฑุงุญ ุฃุญูุงุก ุจุฏููุฉ โ

### ุงูููุฏ ุงููุณุคูู:
```typescript
const alternatives = getAlternativeLocations(fc.args.query);
response = `ุนูุฏูุง ูู: ${alternatives.join('ุ ')}. ุชุญุจ ุฃู ุญูุ`;
```

### ููููุฉ ุงูุงุฎุชุจุงุฑ:
1. ููู "ุฃุจู ูููุง ูู ุงูุฏูุงู"
2. **ุงููุชููุน:** ููุชุฑุญ ุฃุญูุงุก ูููุง ูููุงุช

---

## 6๏ธโฃ ุงูุฑุฌูุน ูุนูุงุฑ ุณุงุจู โ

### ุงูููุฏ ุงููุณุคูู:
```typescript
// show_previous_property tool
const prevProperty = propertyHistory[index];
setActiveProperty(prevProperty);
```

### ููููุฉ ุงูุงุฎุชุจุงุฑ:
1. ุงุนุฑุถ ูููุงุ ุซู ุดูุฉ
2. ููู "ุงุฑุฌุน ููุนูุงุฑ ุงูุฃูู"
3. **ุงููุชููุน:** ูุนุฑุถ ุงููููุง

---

## 7๏ธโฃ ุฅููุงู ุงูุฌูุณุฉ ุนูุฏ ุฏุฎูู Dashboard โ

### ุงูููุฏ ุงููุณุคูู:
```typescript
const handleOpenDashboard = () => {
  stopSession();
  stopAudioPlayback();
  setShowDashboard(true);
};
```

### ููููุฉ ุงูุงุฎุชุจุงุฑ:
1. ุงุจุฏุฃ ุฌูุณุฉ ุตูุชูุฉ
2. ุงุถุบุท "ููุญุฉ ุงูุชุญูู"
3. **ุงููุชููุน:** ุงูุตูุช ูุชููู

---

## 8๏ธโฃ ุชุตุฏูุฑ Excel ููุนููุงุก โ

### ููููุฉ ุงูุงุฎุชุจุงุฑ:
1. ุฃุถู ุนููู ูู ุงูููุฑู
2. Dashboard > ุงูุนููุงุก > ุชุตุฏูุฑ Excel
3. **ุงููุชููุน:** ููู CSV ููุชุญ ุจุงูุนุฑุจู

---

## 9๏ธโฃ Gallery ูุชููู ุจุนุฏ ุฏูุฑุชูู โ

### ุงูููุฏ ุงููุณุคูู:
```typescript
if (cycleCount >= 2) {
  onClose();
}
```

### ููููุฉ ุงูุงุฎุชุจุงุฑ:
1. ุงุนุฑุถ ุนูุงุฑ
2. ุงูุชุธุฑ ุงูุตูุฑ ุชุฏูุฑ ูุฑุชูู
3. **ุงููุชููุน:** ุงููุนุฑุถ ูุชููู ุชููุงุฆูุงู

---

## ๐ Mobile Responsive โ

### ุงูุชุนุฏููุงุช:
- Header: `h-16 md:h-20`, `px-4 md:px-8`
- Button: `w-28 h-28 md:w-44 md:h-44`
- Background: `bg-[center_right_-8rem]` ููููุจุงูู
- Footer: `bg-black/30 md:bg-transparent`

### ููููุฉ ุงูุงุฎุชุจุงุฑ:
1. ุงูุชุญ ุนูู ููุจุงูู ุฃู DevTools
2. **ุงููุชููุน:** ูู ุงูุนูุงุตุฑ ูุชูุงุณูุฉ

---

## 1๏ธโฃ1๏ธโฃ Reels-Style Gallery โ

### ุงูููุฒุงุช:
- Progress bars ูู ุงูุฃุนูู (Stories-style)
- Swipe up/down ููุชููู
- Tap left/right ููุชููู
- Tap center ููุฅููุงู ุงููุคูุช
- Property info overlay ูู ุงูุฃุณูู
- ุฃุฒุฑุงุฑ "ููุชู" ู "ุงูุชุงูู"
- Keyboard navigation (arrows, space, escape)

### ููููุฉ ุงูุงุฎุชุจุงุฑ:
1. ุงุนุฑุถ ุฃู ุนูุงุฑ
2. ุฌุฑุจ Swipe/Tap/Keyboard
3. ุงุถุบุท "ููุชู" โ ููุชุญ ุงูููุฑู
4. **ุงููุชููุน:** ุชุฌุฑุจุฉ ุฒู Instagram Reels

---

## 1๏ธโฃ2๏ธโฃ Smart Conversation Logging โ

### ุงูููุฒุงุช:
- Session ID ููู ุฌูุณุฉ
- Intent detection (greeting/search/price_inquiry/booking/info/complaint)
- Property type extraction
- Location extraction
- Tools used tracking
- Status (complete/interrupted/error/session_end)
- Duration tracking

### ููููุฉ ุงูุงุฎุชุจุงุฑ:
1. ุชููู ูุน ุงูุจูุช
2. Dashboard > ุงูุงุณุชูุณุงุฑุงุช
3. **ุงููุชููุน:** ูู ูุญุงุฏุซุฉ ูููุง badges ููู intent ูุงูู status

---

## 1๏ธโฃ3๏ธโฃ Dashboard Analytics โ

### ุงูููุฒุงุช:
- ุฅุฌูุงูู ุงููุญุงุฏุซุงุช
- ุนุฏุฏ ุงูุฌูุณุงุช
- ูุณุจุฉ ุงูุชุญููู
- ุชูุฒูุน ููุงูุง ุงูุนููุงุก
- ุฃูุซุฑ ุฃููุงุน ุงูุนูุงุฑุงุช ุทูุจุงู
- ุฃูุซุฑ ุงูููุงูุน ุจุญุซุงู
- ุญุงูุฉ ุงููุญุงุฏุซุงุช

### ููููุฉ ุงูุงุฎุชุจุงุฑ:
1. Dashboard > ุงูุฅุญุตุงุฆูุงุช
2. **ุงููุชููุน:** ุจูุงูุงุช ุดุงููุฉ ูููุธูุฉ

---

## 1๏ธโฃ4๏ธโฃ Error Boundaries โ

### ุงูููุฏ ุงููุณุคูู:
```typescript
// components/ErrorBoundary.tsx
<ErrorBoundary fallbackTitle="ุญุฏุซ ุฎุทุฃ">
  <Gallery />
</ErrorBoundary>
```

### ุงูููููุงุช ุงููุญููุฉ:
- Gallery
- LeadForm
- Dashboard

### ุงูููุฒุงุช:
- ุฑุณุงูุฉ ุฎุทุฃ ูุงุถุญุฉ ุจุงูุนุฑุจู
- ุฒุฑ "ุญุงูู ูุฑุฉ ุฃุฎุฑู"
- ุฒุฑ "ุชุญุฏูุซ ุงูุตูุญุฉ"
- ุชูุงุตูู ุชูููุฉ (ูุฎููุฉ)
- ุชุณุฌูู ุงูุฃุฎุทุงุก ูู localStorage

### ููููุฉ ุงูุงุฎุชุจุงุฑ:
1. ูู ุญุตู ุฃู crash ูู Gallery/LeadForm/Dashboard
2. **ุงููุชููุน:** ุฑุณุงูุฉ ุฎุทุฃ ุฌูููุฉ + ุงููุญุงุฏุซุฉ ุงูุตูุชูุฉ ุชูุถู ุดุบุงูุฉ

---

## 1๏ธโฃ5๏ธโฃ Notification Component โ

### ุงูุชุนุฏููุงุช:
- ูููุน: bottom-right
- ุญุฌู: ุตุบูุฑ ูููุงุณุจ
- ูุฏุฉ: 2 ุซุงููุฉ
- z-index: 50

---

## 1๏ธโฃ6๏ธโฃ Auto-Reconnect โ

### ุงูููุฏ ุงููุณุคูู:
```typescript
if (reconnectAttemptsRef.current < maxReconnectAttempts) {
  reconnectAttemptsRef.current++;
  setTimeout(() => { stopSession(); connectSession(); }, 1000);
}
```

### ููููุฉ ุงูุงุฎุชุจุงุฑ:
1. ูู ุงูุงุชุตุงู ุงููุทุน
2. **ุงููุชููุน:** ูุญุงูู 3 ูุฑุงุช ูุจู ูุง ูููู

---

## 1๏ธโฃ7๏ธโฃ API Retry with Exponential Backoff โ (ุฌุฏูุฏ)

### ุงูููุฏ ุงููุณุคูู:
```typescript
// withRetry helper
const delays = [500, 1000, 2000]; // 0.5s, 1s, 2s

// ูู connectSession:
const stream = await withRetry(
  () => navigator.mediaDevices.getUserMedia({ audio: true }),
  { maxAttempts: 2 }
);

const session = await withRetry(
  () => ai.live.connect({ ... }),
  { maxAttempts: 3 }
);
```

### ุงูููุฒุงุช:
- Exponential backoff: 0.5s โ 1s โ 2s
- ููุฑู ุจูู ุงูุฃุฎุทุงุก ุงููุงุจูุฉ ููู retry ูุงูุบูุฑ ูุงุจูุฉ
- ูุฏุนู ุงูุฅูุบุงุก ุนุจุฑ AbortController
- ุฑุณุงุฆู ูุงุถุญุฉ ูููุณุชุฎุฏู ุฃุซูุงุก ุงููุญุงููุงุช
- ุชูุธูู ุงูููุงุฑุฏ ุนูุฏ ุงููุดู

### ุงูุฃุฎุทุงุก ุงูุบูุฑ ูุงุจูุฉ ููู Retry:
- API Key ุบูุท
- Quota exceeded
- Unauthorized
- Forbidden

### ุฑุณุงุฆู ุงูุฎุทุฃ:
| ููุน ุงูุฎุทุฃ | ุงูุฑุณุงูุฉ |
|-----------|---------|
| API Key | ุฎุทุฃ ูู ุงููุตุงุฏูุฉ - ุชูุงุตู ูุน ุงูุฏุนู |
| Quota | ุชู ุชุฌุงูุฒ ุงูุญุฏ ุงููุณููุญ - ุญุงูู ูุงุญูุงู |
| Network | ุชุฃูุฏ ูู ุงุชุตุงู ุงูุฅูุชุฑูุช |
| ุฃุฎุฑู | ุญุฏุซ ุฎุทุฃ - ุงุถุบุท ูููุญุงููุฉ ูุฑุฉ ุฃุฎุฑู |

### ููููุฉ ุงูุงุฎุชุจุงุฑ:
1. ุงูุตู ุงูุฅูุชุฑูุชุ ุงุถุบุท "ุชุญุฏุซ"
2. **ุงููุชููุน:** "ุฌุงุฑู ุฅุนุงุฏุฉ ุงูุงุชุตุงู (1/3)..." ุซู ุฑุณุงูุฉ ุฎุทุฃ
3. ูุตู ุงูุฅูุชุฑูุชุ ุงุถุบุท "ุชุญุฏุซ"
4. **ุงููุชููุน:** ูุชุตู ุจูุฌุงุญ

---

## ๐ ููุฎุต ุงูุญุงูุฉ ุงูููุงุฆูุฉ

| ุงูููุฒุฉ | ุงูุญุงูุฉ |
|--------|--------|
| ุฅููุงู ุงูุตูุช | โ |
| ููุน ุงูุชูููุฌ | โ |
| ุฅุบูุงู ุงูููุฑู | โ |
| ุนุฏู ุนุฑุถ ูููู | โ |
| ุฃุญูุงุก ุจุฏููุฉ | โ |
| ุฑุฌูุน ูุนูุงุฑ | โ |
| ุฅููุงู ูู Dashboard | โ |
| ุชุตุฏูุฑ Excel | โ |
| Gallery auto-close | โ |
| Mobile responsive | โ |
| Reels-style Gallery | โ |
| Smart Logging | โ |
| Dashboard Analytics | โ |
| Error Boundaries | โ |
| Notification | โ |
| Auto-Reconnect | โ |
| API Retry (Backoff) | โ |

---

## ๐ ููุชุดุบูู:
```bash
npm run dev
```

## ๐ API Key:
ููุฌูุฏ ูู `.env.local`

---

ุขุฎุฑ ุชุญุฏูุซ: 28 ุฏูุณูุจุฑ 2025
